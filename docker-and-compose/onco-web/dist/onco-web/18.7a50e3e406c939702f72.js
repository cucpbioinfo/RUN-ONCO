(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{RdiT:function(l,n,t){"use strict";t.r(n);var e=t("CcnG"),a=function(){return function(){}}(),u=t("pMnS"),s=t("PC7G"),i=t("+803"),o=t("ZYCi"),r=t("gIcY"),c=t("yD1i"),b=t("ihYY"),d=t("VkcJ"),p=t("5xYE"),m=t("G/Qd"),h=t("thzI"),f=t("9QbX"),g=t("iiaH"),C=t("52x8"),y=t("fYYn"),v=t("JK/P"),S=t("/aBe"),A=t("Pj39"),x=t("kEHr"),I=function(){function l(l,n,t,e,a,u,s,i){this.appState=l,this.router=n,this.constants=t,this.dataService=e,this.msg=a,this.fb=u,this.modalService=s,this.util=i,this.isCollapsed=!1,this.itemResource=new y.b([],0),this.items=[],this.itemCount=0}return l.prototype.ngOnInit=function(){this.init()},l.prototype.init=function(){this.buildForm(),this.breadcrumbs=[{name:"Search",url:"/clinical-data-search",active:!0}]},l.prototype.reloadItems=function(l){var n={},t={};if(t.status=this.constants.STATUS_ACTIVE,!this.util.isNullOrEmpty(this.searchForm.value.hn)){var e={};e.hn=this.searchForm.value.hn,t.patient=e}n.criteria=t,n.paging={fetchSize:l.limit,startIndex:l.offset,sortBy:l.sortBy,sortAsc:l.sortAsc},this.doSearch(n)},l.prototype.addNew=function(){this.appState.dxIdx=this.dxIdx,this.appState.clinicalData&&(this.appState.clinicalData={diagnosisList:[]},this.appState.currentDx={pathoList:[],clinicalCourseList:[]}),this.patient&&(this.appState.clinicalData.patient=this.patient),this.router.navigate(["clinical-record-form/step1"])},l.prototype.search=function(){var l={},n={};if(n.status=this.constants.STATUS_ACTIVE,!this.util.isNullOrEmpty(this.searchForm.value.hn)){var t={};t.hn=this.searchForm.value.hn,n.patient=t}l.criteria=n,l.paging={fetchSize:15,startIndex:0},this.doSearch(l)},l.prototype.doSearch=function(l){var n=this;this.dataService.connect(this.constants.CTX.SECURITY,this.constants.SERVICE_NAME.SEARCH_CLINICAL_DATA,l).then((function(l){l.responseStatus.responseCode===n.msg.SUCCESS.code||l.responseStatus.responseCode===n.msg.ERROR_DATA_NOT_FOUND.code?(l.data?(n.dataList=l.data.elements,n.itemCount=l.data.totalElements):(n.dataList=[],n.itemCount=0),n.itemResource=new y.b(n.dataList,n.itemCount),n.itemResource.query({}).then((function(l){return n.items=l}))):l.responseStatus.responseCode!==n.msg.ERROR_DATA_NOT_FOUND.code&&(n.modalConfig={title:"Message",message:l.responseStatus.responseMessage},n.modalService.show(A.a,"model-sm",n.modalConfig))}))},l.prototype.trackByFn=function(l,n){return l},l.prototype.editItem=function(l){var n=this;this.dataService.connect(this.constants.CTX.SECURITY,this.constants.SERVICE_NAME.GET_CLINICAL_DATA,{id:l.id}).then((function(l){l.responseStatus.responseCode===n.msg.SUCCESS.code?(n.appState.clinicalData=n.prepareClinicalData(l.data),n.router.navigate(["clinical-record-form/step1"])):(n.modalConfig={title:"Message",message:l.responseStatus.responseMessage},n.modalService.show(A.a,"modal-sm",n.modalConfig))}))},l.prototype.deleteItem=function(l){var n=this;this.modalConfig={title:"Message",message:"Confirm delete item?"},this.modalService.show(S.a,"modal-sm",this.modalConfig).subscribe((function(t){t&&n.dataService.connect(n.constants.CTX.SECURITY,n.constants.SERVICE_NAME.DELETE_CLINICAL_DATA,{ref:l.ref}).then((function(l){l.responseStatus.responseCode===n.msg.SUCCESS.code?(n.modalConfig={title:"Message",message:"Deleted successfully."},n.modalService.show(A.a,"model-sm",n.modalConfig).subscribe((function(){n.search()}))):(n.modalConfig={title:"Message",message:l.responseStatus.responseMessage},n.modalService.show(A.a,"model-sm",n.modalConfig))}))}))},l.prototype.onClear=function(){this.searchForm.reset(),this.search()},l.prototype.onSearch=function(){this.search()},l.prototype.prepareClinicalData=function(l){var n=JSON.parse(JSON.stringify(l));return n.diagnosisList.forEach((function(l){l.pathoList||(l.pathoList=[]),l.clinicalCourseList||(l.clinicalCourseList=[])})),n},Object.defineProperty(l.prototype,"dxIdx",{get:function(){var l=0,n=this.appState.clinicalData.diagnosisList;return n&&n.length>0&&(l=n.length-1),l},enumerable:!0,configurable:!0}),l.prototype.buildForm=function(){this.searchForm=this.fb.group({hn:[""]})},l.prototype.collapsed=function(){this.message="collapsed"},l.prototype.collapses=function(){this.message="collapses"},l.prototype.expanded=function(){this.message="expanded"},l.prototype.expands=function(){this.message="expands"},l}(),T=e.ob({encapsulation:0,styles:[["app-clinical-data-search .table td{vertical-align:middle!important}"]],data:{}});function E(l){return e.Kb(0,[(l()(),e.Ib(-1,null,[" Ref No. "]))],null,null)}function q(l){return e.Kb(0,[(l()(),e.qb(0,0,null,null,1,"span",[["class","text-nowrap"]],null,null,null,null,null)),(l()(),e.Ib(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.context.item.ref)}))}function k(l){return e.Kb(0,[(l()(),e.Ib(-1,null,[" HN "]))],null,null)}function w(l){return e.Kb(0,[(l()(),e.qb(0,0,null,null,1,"span",[["class","text-nowrap"]],null,null,null,null,null)),(l()(),e.Ib(1,null,["",""]))],null,(function(l,n){l(n,1,0,null==n.context.item.patient?null:n.context.item.patient.hn)}))}function D(l){return e.Kb(0,[(l()(),e.Ib(-1,null,[" Edit "]))],null,null)}function N(l){return e.Kb(0,[(l()(),e.qb(0,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(l()(),e.qb(1,0,null,null,1,"a",[["class","btn btn-outline dark btn-sm"],["href","javascript:;"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.editItem(l.context.item)&&e),e}),null,null)),(l()(),e.qb(2,0,null,null,0,"i",[["class","fa fa-pencil"]],null,null,null,null,null))],null,null)}function R(l){return e.Kb(0,[(l()(),e.Ib(-1,null,[" Delete "]))],null,null)}function L(l){return e.Kb(0,[(l()(),e.qb(0,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(l()(),e.qb(1,0,null,null,1,"a",[["class","btn btn-outline red btn-sm"],["href","javascript:;"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.deleteItem(l.context.item)&&e),e}),null,null)),(l()(),e.qb(2,0,null,null,0,"i",[["class","fa fa-trash-o"]],null,null,null,null,null))],null,null)}function _(l){return e.Kb(0,[(l()(),e.qb(0,0,null,null,1,"app-breadcrumb",[],null,null,null,s.b,s.a)),e.pb(1,114688,null,0,i.a,[o.k],{items:[0,"items"]},null),(l()(),e.qb(2,0,null,null,1,"h2",[["class","page-title"]],null,null,null,null,null)),(l()(),e.Ib(-1,null,["Clinical data"])),(l()(),e.qb(4,0,null,null,0,"hr",[["class","side"]],null,null,null,null,null)),(l()(),e.qb(5,0,null,null,25,"form",[["class","form-horizontal margin-top-20"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,t){var a=!0;return"submit"===n&&(a=!1!==e.Ab(l,7).onSubmit(t)&&a),"reset"===n&&(a=!1!==e.Ab(l,7).onReset()&&a),a}),null,null)),e.pb(6,16384,null,0,r.x,[],null,null),e.pb(7,540672,null,0,r.j,[[8,null],[8,null]],{form:[0,"form"]},null),e.Fb(2048,null,r.c,null,[r.j]),e.pb(9,16384,null,0,r.p,[[4,r.c]],null,null),(l()(),e.qb(10,0,null,null,20,"div",[["class","card card-search"]],null,null,null,null,null)),(l()(),e.qb(11,0,null,null,2,"h5",[["class","card-header"]],null,null,null,null,null)),(l()(),e.qb(12,0,null,null,1,"a",[["aria-controls","collapseEvent"],["href","javascript:;"]],[[1,"aria-expanded",0]],[[null,"click"]],(function(l,n,t){var e=!0,a=l.component;return"click"===n&&(e=0!=(a.isCollapsed=!a.isCollapsed)&&e),e}),null,null)),(l()(),e.Ib(-1,null,["Search"])),(l()(),e.qb(14,0,null,null,16,"div",[["class","card-body"],["id","collapseEvent"]],[[2,"collapse",null],[2,"in",null],[2,"show",null],[1,"aria-expanded",0],[1,"aria-hidden",0],[2,"collapsing",null]],[[null,"collapses"],[null,"expands"],[null,"collapsed"],[null,"expanded"]],(function(l,n,t){var e=!0,a=l.component;return"collapses"===n&&(e=!1!==a.collapses()&&e),"expands"===n&&(e=!1!==a.expands()&&e),"collapsed"===n&&(e=!1!==a.collapsed()&&e),"expanded"===n&&(e=!1!==a.expanded()&&e),e}),null,null)),e.pb(15,8404992,null,0,c.a,[e.k,e.E,b.b],{collapse:[0,"collapse"]},{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"}),(l()(),e.qb(16,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e.qb(17,0,null,null,1,"label",[["class","col-md-1 col-form-label"]],null,null,null,null,null)),(l()(),e.Ib(-1,null,["HN"])),(l()(),e.qb(19,0,null,null,6,"div",[["class","col-md-3"]],null,null,null,null,null)),(l()(),e.qb(20,0,null,null,5,"input",[["class","form-control"],["formControlName","hn"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var a=!0;return"input"===n&&(a=!1!==e.Ab(l,21)._handleInput(t.target.value)&&a),"blur"===n&&(a=!1!==e.Ab(l,21).onTouched()&&a),"compositionstart"===n&&(a=!1!==e.Ab(l,21)._compositionStart()&&a),"compositionend"===n&&(a=!1!==e.Ab(l,21)._compositionEnd(t.target.value)&&a),a}),null,null)),e.pb(21,16384,null,0,r.d,[e.E,e.k,[2,r.a]],null,null),e.Fb(1024,null,r.m,(function(l){return[l]}),[r.d]),e.pb(23,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.m],[2,r.z]],{name:[0,"name"]},null),e.Fb(2048,null,r.n,null,[r.i]),e.pb(25,16384,null,0,r.o,[[4,r.n]],null,null),(l()(),e.qb(26,0,null,null,4,"div",[["class","form-actions text-center margin-top-5 margin-bottom-10"]],null,null,null,null,null)),(l()(),e.qb(27,0,null,null,1,"button",[["class","btn default btn-medium"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.onClear()&&e),e}),null,null)),(l()(),e.Ib(-1,null,[" Clear "])),(l()(),e.qb(29,0,null,null,1,"button",[["class","btn green btn-medium margin-left-5"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.onSearch()&&e),e}),null,null)),(l()(),e.Ib(-1,null,[" Search "])),(l()(),e.qb(31,0,null,null,3,"div",[["class","pull-right margin-top-10 margin-bottom-5"]],null,null,null,null,null)),(l()(),e.qb(32,0,null,null,2,"button",[["class","btn btn-sm blue btn-small"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.addNew()&&e),e}),null,null)),(l()(),e.qb(33,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(l()(),e.Ib(-1,null,[" Add "])),(l()(),e.qb(35,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null)),(l()(),e.qb(36,0,null,null,28,"div",[["class","margin-top-5"]],null,null,null,null,null)),(l()(),e.qb(37,0,null,null,27,"data-table",[["headerTitle",""],["id","clinical-data-grid"]],null,[[null,"reload"]],(function(l,n,t){var e=!0;return"reload"===n&&(e=!1!==l.component.reloadItems(t)&&e),e}),d.b,d.a)),e.pb(38,114688,null,2,p.a,[],{items:[0,"items"],itemCount:[1,"itemCount"],headerTitle:[2,"headerTitle"],header:[3,"header"],indexColumn:[4,"indexColumn"],substituteRows:[5,"substituteRows"],limit:[6,"limit"]},{reload:"reload"}),e.Gb(603979776,1,{columns:1}),e.Gb(335544320,2,{expandTemplate:0}),(l()(),e.qb(41,0,null,null,5,"data-table-column",[],null,null,null,null,null)),e.pb(42,81920,[[1,4]],2,m.a,[],{sortable:[0,"sortable"],resizable:[1,"resizable"],property:[2,"property"]},null),e.Gb(335544320,3,{cellTemplate:0}),e.Gb(335544320,4,{headerTemplate:0}),(l()(),e.hb(0,[[4,2],["dataTableHeader",2]],null,0,null,E)),(l()(),e.hb(0,[[3,2],["dataTableCell",2]],null,0,null,q)),(l()(),e.qb(47,0,null,null,5,"data-table-column",[],null,null,null,null,null)),e.pb(48,81920,[[1,4]],2,m.a,[],{sortable:[0,"sortable"],resizable:[1,"resizable"],property:[2,"property"]},null),e.Gb(335544320,5,{cellTemplate:0}),e.Gb(335544320,6,{headerTemplate:0}),(l()(),e.hb(0,[[6,2],["dataTableHeader",2]],null,0,null,k)),(l()(),e.hb(0,[[5,2],["dataTableCell",2]],null,0,null,w)),(l()(),e.qb(53,0,null,null,5,"data-table-column",[],null,null,null,null,null)),e.pb(54,81920,[[1,4]],2,m.a,[],{width:[0,"width"]},null),e.Gb(335544320,7,{cellTemplate:0}),e.Gb(335544320,8,{headerTemplate:0}),(l()(),e.hb(0,[[8,2],["dataTableHeader",2]],null,0,null,D)),(l()(),e.hb(0,[[7,2],["dataTableCell",2]],null,0,null,N)),(l()(),e.qb(59,0,null,null,5,"data-table-column",[],null,null,null,null,null)),e.pb(60,81920,[[1,4]],2,m.a,[],{width:[0,"width"]},null),e.Gb(335544320,9,{cellTemplate:0}),e.Gb(335544320,10,{headerTemplate:0}),(l()(),e.hb(0,[[10,2],["dataTableHeader",2]],null,0,null,R)),(l()(),e.hb(0,[[9,2],["dataTableCell",2]],null,0,null,L)),(l()(),e.qb(65,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.qb(66,0,null,null,0,"br",[],null,null,null,null,null))],(function(l,n){var t=n.component;l(n,1,0,t.breadcrumbs),l(n,7,0,t.searchForm),l(n,15,0,t.isCollapsed),l(n,23,0,"hn"),l(n,38,0,t.items,t.itemCount,"",!1,!1,!1,15),l(n,42,0,!0,!0,"ref"),l(n,48,0,!0,!0,"hn"),l(n,54,0,80),l(n,60,0,80)}),(function(l,n){var t=n.component;l(n,5,0,e.Ab(n,9).ngClassUntouched,e.Ab(n,9).ngClassTouched,e.Ab(n,9).ngClassPristine,e.Ab(n,9).ngClassDirty,e.Ab(n,9).ngClassValid,e.Ab(n,9).ngClassInvalid,e.Ab(n,9).ngClassPending),l(n,12,0,!t.isCollapsed),l(n,14,0,e.Ab(n,15).isCollapse,e.Ab(n,15).isExpanded,e.Ab(n,15).isExpanded,e.Ab(n,15).isExpanded,e.Ab(n,15).isCollapsed,e.Ab(n,15).isCollapsing),l(n,20,0,e.Ab(n,25).ngClassUntouched,e.Ab(n,25).ngClassTouched,e.Ab(n,25).ngClassPristine,e.Ab(n,25).ngClassDirty,e.Ab(n,25).ngClassValid,e.Ab(n,25).ngClassInvalid,e.Ab(n,25).ngClassPending)}))}function F(l){return e.Kb(0,[(l()(),e.qb(0,0,null,null,1,"app-clinical-data-search",[],null,null,null,_,T)),e.pb(1,114688,null,0,I,[h.a,o.k,f.a,g.a,C.a,r.g,v.a,x.a],null,null)],(function(l,n){l(n,1,0)}),null)}var j=e.mb("app-clinical-data-search",I,F,{},{},[]),U=t("SfUx"),G=t("z5nN"),Y=t("Ip0R"),M=t("sE5F"),O=t("A7o+"),z=t("Xqhc"),K=t("VLg1"),H=t("ZYjt"),V=t("ITC6"),P=t("8tDj"),B=t("BIm4"),J=t("tXBU"),X=t("DnFD"),Q=t("jYWo"),Z=t("hsIp"),W=t("t2rw"),$=function(){return function(){}}(),ll=t("r6sU"),nl=t("aYsj"),tl=t("mnDI"),el=t("t1w2"),al=t("DQlY"),ul=t("zF/N");t.d(n,"ClinicalDataSearchModuleNgFactory",(function(){return sl}));var sl=e.nb(a,[],(function(l){return e.xb([e.yb(512,e.j,e.cb,[[8,[u.a,j,U.a,G.a,G.b]],[3,e.j],e.x]),e.yb(4608,Y.m,Y.l,[e.u,[2,Y.w]]),e.yb(4608,M.c,M.c,[]),e.yb(4608,M.i,M.b,[]),e.yb(5120,M.k,M.l,[]),e.yb(4608,M.j,M.j,[M.c,M.i,M.k]),e.yb(4608,M.g,M.a,[]),e.yb(5120,M.e,M.m,[M.j,M.g]),e.yb(4608,O.h,O.g,[]),e.yb(4608,O.c,O.f,[]),e.yb(4608,O.j,O.d,[]),e.yb(4608,O.b,O.a,[]),e.yb(4608,O.l,O.l,[O.m,O.h,O.c,O.j,O.b,O.n,O.o]),e.yb(4608,r.y,r.y,[]),e.yb(4608,r.g,r.g,[]),e.yb(4608,z.a,z.a,[]),e.yb(4608,K.a,K.a,[H.c]),e.yb(4608,V.a,V.a,[H.c]),e.yb(4608,P.a,P.a,[B.a,f.a]),e.yb(4608,J.a,J.a,[e.k,z.a,r.n]),e.yb(4608,X.a,X.a,[e.k,z.a]),e.yb(4608,Q.a,Q.a,[e.k]),e.yb(135680,Z.a,Z.a,[e.k,e.t,O.l]),e.yb(4608,W.a,W.a,[]),e.yb(1073742336,Y.c,Y.c,[]),e.yb(1073742336,o.m,o.m,[[2,o.s],[2,o.k]]),e.yb(1073742336,$,$,[]),e.yb(1073742336,M.f,M.f,[]),e.yb(1073742336,O.i,O.i,[]),e.yb(1073742336,ll.a,ll.a,[]),e.yb(1073742336,r.v,r.v,[]),e.yb(1073742336,r.k,r.k,[]),e.yb(1073742336,r.s,r.s,[]),e.yb(1073742336,nl.a,nl.a,[]),e.yb(1073742336,tl.a,tl.a,[]),e.yb(1073742336,y.a,y.a,[]),e.yb(1073742336,el.d,el.d,[]),e.yb(1073742336,al.e,al.e,[]),e.yb(1073742336,ul.a,ul.a,[]),e.yb(1073742336,c.b,c.b,[]),e.yb(1073742336,a,a,[]),e.yb(1024,o.i,(function(){return[[{path:"",component:I}]]}),[]),e.yb(256,O.o,void 0,[]),e.yb(256,O.n,void 0,[])])}))}}]);